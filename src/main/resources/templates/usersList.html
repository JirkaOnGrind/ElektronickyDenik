<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Uživatelé</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
<div th:replace="fragments/header :: mainHeader(${pageTitle})"></div>

<div class="flex-grow container mx-auto px-4 py-8">

    <!-- HEADER + ADD BUTTON SECTION -->
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold text-gray-800">Seznam uživatelů</h1>

        <!-- Link to the add user page (we will create the controller for this next) -->
        <a th:href="@{/users/new}"
           class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded shadow hover:shadow-md transition duration-200 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            Přidat uživatele
        </a>
    </div>

    <!-- ALERT NOTIFICATION AREA -->
    <div th:if="${successMessage}"
         class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6 shadow-sm"
         role="alert">
        <strong class="font-bold">Informace:</strong>
        <span class="block sm:inline" th:text="${successMessage}"></span>
        <span class="absolute top-0 bottom-0 right-0 px-4 py-3" onclick="this.parentElement.style.display='none';">
            <svg class="fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Close</title><path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/></svg>
        </span>
    </div>

    <!-- TABLE -->
    <div class="bg-white shadow rounded-lg overflow-hidden">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
            <tr>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Jméno
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Příjmení
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Email
                </th>
            </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
            <tr th:each="user : ${users}" class="hover:bg-gray-100 cursor-pointer"
                th:onclick="'location.href=\'/users/' + ${user.id} + '\';'">
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" th:text="${user.firstName}"></td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" th:text="${user.lastName}"></td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" th:text="${user.email}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>